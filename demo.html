<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROOTUIP AI/ML Demo Platform - Real-Time Logistics Intelligence</title>
    <script src="https://unpkg.com/tesseract.js@5.0.5/dist/tesseract.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --bg-primary: #0A0E27;
            --bg-secondary: #141832;
            --bg-tertiary: #1E2341;
            --accent-primary: #6366F1;
            --accent-secondary: #818CF8;
            --text-primary: #F3F4F6;
            --text-secondary: #9CA3AF;
            --text-tertiary: #6B7280;
            --border-color: rgba(99, 102, 241, 0.2);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --success: #34D399;
            --warning: #FBBF24;
            --danger: #F87171;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(129, 140, 248, 0.1) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: var(--text-primary);
            position: relative;
        }

        .header h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            margin-bottom: 10px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: slideInDown 1s ease-out;
        }

        .header p {
            font-size: clamp(1rem, 2.5vw, 1.3rem);
            opacity: 0.9;
            color: var(--text-secondary);
            animation: slideInUp 1s ease-out 0.3s both;
        }

        .stats-banner {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 40px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            border: 1px solid var(--glass-border);
            animation: slideInUp 1s ease-out 0.6s both;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: 3rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: countUp 2s ease-out 1s both;
        }

        .stat-label {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-top: 5px;
        }

        .demo-tabs {
            display: flex;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 10px;
            border: 1px solid var(--glass-border);
        }

        .tab-button {
            flex: 1;
            min-width: 200px;
            background: transparent;
            color: var(--text-primary);
            border: none;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            font-weight: 600;
            position: relative;
            overflow: hidden;
        }

        .tab-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .tab-button:hover::before {
            left: 100%;
        }

        .tab-button.active {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.3);
        }

        .tab-button:hover:not(.active) {
            background: var(--glass-bg);
            color: var(--accent-primary);
        }

        .demo-content {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .demo-content.active {
            display: block;
        }

        .demo-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid var(--glass-border);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .demo-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 16px 48px rgba(99, 102, 241, 0.2);
        }

        .demo-card h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--text-primary);
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2rem;
            box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
        }

        .upload-zone {
            border: 3px dashed var(--border-color);
            border-radius: 15px;
            padding: 50px;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            background: var(--bg-tertiary);
        }

        .upload-zone h4 {
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .upload-zone p {
            color: var(--text-secondary);
            margin-bottom: 20px;
        }

        .upload-zone:hover {
            border-color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.05);
        }

        .upload-zone.dragover {
            border-color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.1);
            transform: scale(1.02);
        }

        .upload-zone.processing {
            border-color: var(--accent-primary);
            background: linear-gradient(45deg, rgba(99, 102, 241, 0.1), rgba(129, 140, 248, 0.1));
        }

        .btn {
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.3);
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.4);
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, var(--success), #10B981);
            box-shadow: 0 4px 15px rgba(52, 211, 153, 0.3);
        }

        .btn-secondary:hover {
            box-shadow: 0 8px 25px rgba(52, 211, 153, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #EF4444);
            box-shadow: 0 4px 15px rgba(248, 113, 113, 0.3);
        }

        .processing-indicator {
            display: none;
            text-align: center;
            margin: 30px 0;
            padding: 30px;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            border: 1px solid var(--glass-border);
        }

        .processing-indicator h4 {
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .processing-indicator p {
            color: var(--text-secondary);
        }

        .neural-network {
            width: 300px;
            height: 150px;
            margin: 0 auto 20px;
            position: relative;
            overflow: hidden;
        }

        .network-layer {
            position: absolute;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            height: 100%;
        }

        .network-node {
            width: 15px;
            height: 15px;
            background: var(--accent-primary);
            border-radius: 50%;
            animation: pulse 2s infinite;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        .network-connection {
            position: absolute;
            height: 2px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            animation: dataFlow 1.5s infinite;
            box-shadow: 0 0 10px rgba(99, 102, 241, 0.5);
        }

        .results-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 30px;
            margin-top: 20px;
            display: none;
            animation: slideInUp 0.5s ease-out;
            border: 1px solid var(--glass-border);
        }

        .results-panel h4 {
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .confidence-display {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3);
            border: 1px solid var(--border-color);
        }

        .confidence-display h5 {
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .confidence-bar {
            background: var(--bg-primary);
            border-radius: 10px;
            height: 12px;
            margin: 15px 0;
            overflow: hidden;
            position: relative;
        }

        .confidence-fill {
            background: linear-gradient(90deg, var(--danger), var(--warning), var(--success));
            height: 100%;
            border-radius: 10px;
            transition: width 1s ease;
            position: relative;
            box-shadow: 0 0 20px rgba(52, 211, 153, 0.5);
        }

        .confidence-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            animation: shimmer 2s infinite;
        }

        .metric-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .metric-card {
            background: var(--bg-tertiary);
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            transition: transform 0.3s ease;
            border: 1px solid var(--border-color);
        }

        .metric-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-primary);
            box-shadow: 0 8px 30px rgba(99, 102, 241, 0.2);
        }

        .metric-value {
            font-size: 2.5rem;
            font-weight: bold;
            background: linear-gradient(135deg, var(--accent-primary), var(--accent-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .metric-label {
            font-size: 1rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .risk-factors {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .risk-factor {
            background: var(--bg-tertiary);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .risk-factor:hover {
            transform: translateY(-3px);
            border-color: var(--accent-primary);
        }

        .risk-factor h5 {
            color: var(--text-primary);
            margin-bottom: 10px;
        }

        .risk-factor p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .risk-level {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .risk-bar {
            width: 100%;
            height: 8px;
            background: var(--bg-primary);
            border-radius: 4px;
            overflow: hidden;
            margin-top: 10px;
        }

        .risk-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.8s ease;
            box-shadow: 0 0 10px currentColor;
        }

        .risk-low { background: var(--success); }
        .risk-medium { background: var(--warning); }
        .risk-high { background: var(--danger); }

        .route-visualization {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            min-height: 400px;
            position: relative;
            border: 1px solid var(--glass-border);
        }

        .route-visualization h4 {
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .route-map {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(129, 140, 248, 0.1));
            border-radius: 10px;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .route-point {
            position: absolute;
            width: 12px;
            height: 12px;
            background: var(--danger);
            border-radius: 50%;
            border: 3px solid white;
            animation: ping 2s infinite;
            box-shadow: 0 0 20px var(--danger);
        }

        .route-line {
            position: absolute;
            height: 3px;
            background: linear-gradient(90deg, var(--danger), var(--warning));
            animation: routeTrace 3s ease-in-out infinite;
            box-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
        }

        .extracted-data {
            background: var(--bg-tertiary);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 5px solid var(--accent-primary);
            box-shadow: inset 0 2px 10px rgba(0,0,0,0.3);
        }

        .extracted-data h5 {
            color: var(--text-primary);
            margin-bottom: 15px;
        }

        .data-field {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .data-field:last-child {
            border-bottom: none;
        }

        .field-label {
            font-weight: 600;
            color: var(--text-secondary);
        }

        .field-value {
            color: var(--text-primary);
            font-family: 'Monaco', monospace;
        }

        .recommendations {
            background: linear-gradient(135deg, rgba(52, 211, 153, 0.1), rgba(16, 185, 129, 0.1));
            color: var(--text-primary);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border: 1px solid rgba(52, 211, 153, 0.3);
        }

        .recommendations h4 {
            margin-bottom: 15px;
            color: var(--success);
        }

        .recommendations ul {
            list-style: none;
        }

        .recommendations li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
        }

        .recommendations li::before {
            content: '✓';
            position: absolute;
            left: 0;
            top: 0;
            color: var(--success);
            font-weight: bold;
        }

        .demo-shortcuts {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--bg-secondary);
            backdrop-filter: blur(20px);
            color: var(--text-primary);
            padding: 15px;
            border-radius: 10px;
            font-size: 0.9rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: 1000;
            border: 1px solid var(--glass-border);
            box-shadow: 0 4px 20px rgba(0,0,0,0.5);
        }

        .demo-shortcuts.show {
            opacity: 1;
        }

        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 14, 39, 0.9);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }

        .loading-content {
            text-align: center;
            color: var(--text-primary);
        }

        .loading-content h3 {
            margin-bottom: 10px;
            color: var(--text-primary);
        }

        .loading-content p {
            color: var(--text-secondary);
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--glass-border);
            border-top: 4px solid var(--accent-primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
            box-shadow: 0 0 20px rgba(99, 102, 241, 0.5);
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--accent-secondary);
        }

        /* Animations */
        @keyframes slideInDown {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes slideInUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes countUp {
            from { transform: scale(0); }
            to { transform: scale(1); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.2); opacity: 0.7; }
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes dataFlow {
            0% { opacity: 0.3; }
            50% { opacity: 1; }
            100% { opacity: 0.3; }
        }

        @keyframes ping {
            0% { transform: scale(1); }
            50% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        @keyframes routeTrace {
            0% { opacity: 0.5; }
            50% { opacity: 1; box-shadow: 0 0 20px rgba(251, 191, 36, 0.5); }
            100% { opacity: 0.5; }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .demo-tabs {
                flex-direction: column;
            }
            
            .tab-button {
                min-width: auto;
            }
            
            .metric-grid {
                grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
                gap: 15px;
            }
            
            .demo-card {
                padding: 20px;
            }
            
            .upload-zone {
                padding: 30px 15px;
            }
            
            .neural-network {
                width: 250px;
                height: 120px;
            }
        }
    </style>
    <link rel="stylesheet" href="/assets/css/rootuip-dark-theme.css">
</head>
<body>
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-content">
            <div class="loading-spinner"></div>
            <h3>Initializing AI/ML Processing Engine...</h3>
            <p>Loading neural networks and optimization algorithms</p>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>🚀 ROOTUIP AI/ML Demo Platform</h1>
            <p>Real-Time Logistics Intelligence • Document Processing • Predictive Analytics</p>
        </div>

        <div class="stats-banner">
            <div class="stat-item">
                <div class="stat-value" data-target="89000">$0</div>
                <div class="stat-label">Average Savings per Voyage</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" data-target="94">0%</div>
                <div class="stat-label">D&D Prevention Rate</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" data-target="45">0</div>
                <div class="stat-label">Minutes Saved per Document</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" data-target="99.2">0%</div>
                <div class="stat-label">Processing Accuracy</div>
            </div>
        </div>

        <div class="demo-tabs">
            <button class="tab-button active" onclick="switchTab('document-processing')">
                📄 Smart Document Processing
            </button>
            <button class="tab-button" onclick="switchTab('dd-prediction')">
                ⚠️ D&D Risk Prediction
            </button>
            <button class="tab-button" onclick="switchTab('route-optimization')">
                🗺️ Route Optimization
            </button>
            <button class="tab-button" onclick="switchTab('analytics')">
                📊 Predictive Analytics
            </button>
        </div>

        <!-- Document Processing Tab -->
        <div class="demo-content active" id="document-processing">
            <div class="demo-card">
                <h3><span class="icon">📄</span>AI-Powered Document Processing</h3>
                
                <div class="upload-zone" id="documentUpload">
                    <div>
                        <h4>🎯 Drop Bill of Lading or Shipping Document</h4>
                        <p>Supports PDF, PNG, JPG, TIFF • Powered by Tesseract.js OCR</p>
                        <input type="file" id="documentFile" style="display: none;" accept=".pdf,.png,.jpg,.jpeg,.tiff">
                        <button class="btn" onclick="document.getElementById('documentFile').click()">
                            Choose Document
                        </button>
                        <button class="btn btn-secondary" onclick="loadDemoDocument()">
                            Load Demo Document
                        </button>
                    </div>
                </div>

                <div class="processing-indicator" id="docProcessing">
                    <div class="neural-network" id="neuralNetwork"></div>
                    <h4>Processing with AI/ML Engine...</h4>
                    <p>Extracting fields • Analyzing confidence • Validating data</p>
                    <div class="confidence-display">
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="processingProgress" style="width: 0%"></div>
                        </div>
                        <p id="processingStatus">Initializing OCR engine...</p>
                    </div>
                </div>

                <div class="results-panel" id="docResults">
                    <h4>📋 Extraction Results</h4>
                    
                    <div class="confidence-display">
                        <h5>Overall Confidence Score</h5>
                        <div class="confidence-bar">
                            <div class="confidence-fill" id="docConfidenceFill"></div>
                        </div>
                        <p><strong><span id="docConfidenceScore">0%</span></strong> - Excellent accuracy</p>
                    </div>

                    <div class="metric-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="fieldsExtracted">0</div>
                            <div class="metric-label">Fields Extracted</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="processingTime">0s</div>
                            <div class="metric-label">Processing Time</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="timeSaved">0</div>
                            <div class="metric-label">Minutes Saved</div>
                        </div>
                    </div>

                    <div class="extracted-data" id="extractedData">
                        <!-- Extracted data will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- D&D Prediction Tab -->
        <div class="demo-content" id="dd-prediction">
            <div class="demo-card">
                <h3><span class="icon">⚠️</span>Demurrage & Detention Risk Prediction</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Container Number:</label>
                        <input type="text" id="containerNumber" placeholder="MSKU1234567" value="MSKU7654321" 
                               style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Route:</label>
                        <select id="routeSelect" style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                            <option value="shanghai-la">Shanghai → Los Angeles</option>
                            <option value="rotterdam-nyc">Rotterdam → New York</option>
                            <option value="singapore-dubai">Singapore → Dubai</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Carrier:</label>
                        <select id="carrierSelect" style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                            <option value="msc">MSC Mediterranean</option>
                            <option value="maersk">Maersk Line</option>
                            <option value="cosco">COSCO Shipping</option>
                        </select>
                    </div>
                </div>

                <button class="btn" onclick="predictDDRisk()" style="font-size: 18px; padding: 15px 40px;">
                    🤖 Analyze D&D Risk with AI
                </button>

                <div class="processing-indicator" id="ddProcessing">
                    <div class="neural-network" id="ddNeuralNetwork"></div>
                    <h4>Running Predictive Analysis...</h4>
                    <p>Analyzing 847 risk factors • Processing historical data • Calculating probabilities</p>
                </div>

                <div class="results-panel" id="ddResults">
                    <h4>🎯 Risk Assessment Results</h4>
                    
                    <div class="metric-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="riskScore">0</div>
                            <div class="metric-label">Risk Score</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="ddProbability">0%</div>
                            <div class="metric-label">D&D Probability</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="potentialSavings">$0</div>
                            <div class="metric-label">Potential Savings</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="confidenceLevel">0%</div>
                            <div class="metric-label">AI Confidence</div>
                        </div>
                    </div>

                    <div class="risk-factors" id="riskFactorsGrid">
                        <!-- Risk factors will be populated here -->
                    </div>

                    <div class="recommendations" id="aiRecommendations">
                        <!-- AI recommendations will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Route Optimization Tab -->
        <div class="demo-content" id="route-optimization">
            <div class="demo-card">
                <h3><span class="icon">🗺️</span>AI Route Optimization Engine</h3>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 30px;">
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Origin Port:</label>
                        <select id="originPort" style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                            <option value="CNSHG">Shanghai, China (CNSHG)</option>
                            <option value="NLRTM">Rotterdam, Netherlands (NLRTM)</option>
                            <option value="SGSIN">Singapore (SGSIN)</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Destination:</label>
                        <select id="destPort" style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                            <option value="USLAX">Los Angeles, USA (USLAX)</option>
                            <option value="USNYC">New York, USA (USNYC)</option>
                            <option value="AEDXB">Dubai, UAE (AEDXB)</option>
                        </select>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Container Count:</label>
                        <input type="number" id="containerCount" value="50" min="1" max="1000" 
                               style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: 10px; font-weight: 600; color: var(--text-primary);">Optimization Priority:</label>
                        <select id="priority" style="width: 100%; padding: 12px; background: var(--bg-tertiary); border: 2px solid var(--border-color); border-radius: 8px; font-size: 16px; color: var(--text-primary);">
                            <option value="cost">Cost Optimization</option>
                            <option value="time">Time Optimization</option>
                            <option value="carbon">Carbon Footprint</option>
                            <option value="reliability">Reliability</option>
                        </select>
                    </div>
                </div>

                <button class="btn" onclick="optimizeRoute()" style="font-size: 18px; padding: 15px 40px;">
                    🚀 Optimize Route with AI
                </button>

                <div class="processing-indicator" id="routeProcessing">
                    <div class="neural-network" id="routeNeuralNetwork"></div>
                    <h4>Running Optimization Algorithms...</h4>
                    <p>Genetic algorithm • Simulated annealing • Real-time data analysis</p>
                </div>

                <div class="results-panel" id="routeResults">
                    <div class="route-visualization">
                        <h4>🗺️ Optimized Route Visualization</h4>
                        <div class="route-map" id="routeMap">
                            <!-- Route visualization will be rendered here -->
                        </div>
                    </div>

                    <div class="metric-grid">
                        <div class="metric-card">
                            <div class="metric-value" id="costSavings">0%</div>
                            <div class="metric-label">Cost Savings</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="transitTime">0</div>
                            <div class="metric-label">Transit Days</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="carbonReduction">0%</div>
                            <div class="metric-label">Carbon Reduction</div>
                        </div>
                        <div class="metric-card">
                            <div class="metric-value" id="reliabilityScore">0%</div>
                            <div class="metric-label">Reliability Score</div>
                        </div>
                    </div>

                    <div class="extracted-data" id="routeDetails">
                        <!-- Route details will be populated here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Analytics Tab -->
        <div class="demo-content" id="analytics">
            <div class="demo-card">
                <h3><span class="icon">📊</span>Predictive Analytics Dashboard</h3>
                
                <div class="metric-grid">
                    <div class="metric-card">
                        <div class="metric-value">12.8M</div>
                        <div class="metric-label">Documents Processed</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">$2.4B</div>
                        <div class="metric-label">Total Savings Generated</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">99.7%</div>
                        <div class="metric-label">Uptime</div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">847</div>
                        <div class="metric-label">Active Clients</div>
                    </div>
                </div>

                <div style="background: var(--glass-bg); backdrop-filter: blur(20px); border-radius: 15px; padding: 30px; margin: 20px 0; border: 1px solid var(--glass-border);">
                    <h4 style="color: var(--text-primary); margin-bottom: 20px;">📈 Performance Trends</h4>
                    <canvas id="performanceChart" width="400" height="200"></canvas>
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                    <div class="recommendations">
                        <h4>🎯 Key Insights</h4>
                        <ul>
                            <li>94% reduction in D&D charges across all routes</li>
                            <li>Average document processing time: 2.3 seconds</li>
                            <li>Shanghai-LA route shows highest optimization potential</li>
                            <li>Peak efficiency during Q2 2024 operations</li>
                        </ul>
                    </div>
                    <div class="recommendations" style="background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(129, 140, 248, 0.1)); border-color: rgba(99, 102, 241, 0.3);">
                        <h4 style="color: var(--accent-primary);">🚀 Optimization Opportunities</h4>
                        <ul>
                            <li>Implement predictive port congestion alerts</li>
                            <li>Expand ML models to include weather patterns</li>
                            <li>Add real-time carrier performance tracking</li>
                            <li>Deploy blockchain document verification</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="demo-shortcuts" id="demoShortcuts">
        <strong>Demo Shortcuts:</strong><br>
        Press 'H' - Toggle help<br>
        Press 'D' - Load demo data<br>
        Press 'R' - Reset all demos<br>
        Press 'F' - Toggle fullscreen
    </div>

    <script>
        // Global variables
        let demoMode = true;
        let currentTab = 'document-processing';
        let processingTimeouts = [];

        // Configure Chart.js for dark theme
        Chart.defaults.color = '#9CA3AF';
        Chart.defaults.borderColor = 'rgba(99, 102, 241, 0.2)';

        // Demo database with pre-calculated impressive results
        const demoDatabase = {
            routes: {
                'shanghai-la': {
                    savings: 23,
                    transitTime: 18,
                    carbonReduction: 15,
                    reliability: 94,
                    cost: 2890,
                    optimizedCost: 2225,
                    carrier: 'MSC Mediterranean',
                    service: 'Transpacific Express'
                },
                'rotterdam-nyc': {
                    savings: 19,
                    transitTime: 12,
                    carbonReduction: 22,
                    reliability: 96,
                    cost: 1850,
                    optimizedCost: 1498,
                    carrier: 'Maersk Line',
                    service: 'Atlantic Express'
                },
                'singapore-dubai': {
                    savings: 27,
                    transitTime: 8,
                    carbonReduction: 18,
                    reliability: 92,
                    cost: 1640,
                    optimizedCost: 1197,
                    carrier: 'COSCO Shipping',
                    service: 'Middle East Direct'
                }
            },
            ddPrediction: {
                'shanghai-la': {
                    riskScore: 32,
                    probability: 12,
                    savings: 89400,
                    confidence: 94,
                    factors: [
                        {name: 'Port Congestion', level: 'medium', value: 65, impact: 'Moderate delay risk at LAX'},
                        {name: 'Carrier Performance', level: 'low', value: 25, impact: 'MSC excellent on-time record'},
                        {name: 'Documentation', level: 'low', value: 15, impact: 'All documents complete and verified'},
                        {name: 'Seasonal Patterns', level: 'medium', value: 55, impact: 'Peak season congestion expected'},
                        {name: 'Weather Impact', level: 'low', value: 20, impact: 'Favorable conditions forecasted'},
                        {name: 'Customs Clearance', level: 'low', value: 30, impact: 'Pre-clearance program enrolled'}
                    ]
                },
                'rotterdam-nyc': {
                    riskScore: 28,
                    probability: 8,
                    savings: 76200,
                    confidence: 96,
                    factors: [
                        {name: 'Port Congestion', level: 'low', value: 35, impact: 'Rotterdam operating smoothly'},
                        {name: 'Carrier Performance', level: 'low', value: 20, impact: 'Maersk premium reliability'},
                        {name: 'Documentation', level: 'low', value: 12, impact: 'Digital processing complete'},
                        {name: 'Seasonal Patterns', level: 'low', value: 40, impact: 'Off-peak season advantage'},
                        {name: 'Weather Impact', level: 'medium', value: 50, impact: 'Atlantic storm season'},
                        {name: 'Customs Clearance', level: 'low', value: 25, impact: 'AEO certified shipper'}
                    ]
                },
                'singapore-dubai': {
                    riskScore: 24,
                    probability: 6,
                    savings: 52800,
                    confidence: 92,
                    factors: [
                        {name: 'Port Congestion', level: 'low', value: 30, impact: 'Dubai efficient port operations'},
                        {name: 'Carrier Performance', level: 'medium', value: 45, impact: 'COSCO good regional performance'},
                        {name: 'Documentation', level: 'low', value: 18, impact: 'UAE digital customs system'},
                        {name: 'Seasonal Patterns', level: 'low', value: 35, impact: 'Stable regional trade patterns'},
                        {name: 'Weather Impact', level: 'low', value: 25, impact: 'Minimal weather disruption'},
                        {name: 'Customs Clearance', level: 'low', value: 28, impact: 'Dubai Trade facilitation'}
                    ]
                }
            },
            documents: {
                demo: {
                    confidence: 94.7,
                    fields: 28,
                    timeSaved: 47,
                    data: {
                        'Container Number': 'MSKU7654321',
                        'Vessel Name': 'MSC GULSUN',
                        'Voyage': '245E',
                        'Port of Loading': 'Shanghai, China (CNSHG)',
                        'Port of Discharge': 'Los Angeles, USA (USLAX)',
                        'ETD': '2024-07-15',
                        'ETA': '2024-08-02',
                        'Shipper': 'ACME TRADING CO LTD',
                        'Consignee': 'GLOBAL IMPORTS USA INC',
                        'Commodity': 'ELECTRONIC COMPONENTS',
                        'Weight': '18,450 KGS',
                        'Measurement': '22.5 CBM',
                        'Freight Terms': 'PREPAID',
                        'Service Contract': 'SC-MSC-2024-789456'
                    }
                }
            }
        };

        // Initialize the demo
        document.addEventListener('DOMContentLoaded', function() {
            showLoadingOverlay();
            setTimeout(() => {
                hideLoadingOverlay();
                initializeDemo();
                animateStatCounters();
            }, 2000);
        });

        function showLoadingOverlay() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoadingOverlay() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        function initializeDemo() {
            // Initialize neural network animations
            createNeuralNetwork('neuralNetwork');
            createNeuralNetwork('ddNeuralNetwork');
            createNeuralNetwork('routeNeuralNetwork');
            
            // Setup event listeners
            setupEventListeners();
            
            // Initialize chart
            initializePerformanceChart();
            
            console.log('🚀 ROOTUIP AI/ML Demo Platform initialized');
        }

        function animateStatCounters() {
            const counters = document.querySelectorAll('.stat-value');
            counters.forEach(counter => {
                const target = parseInt(counter.getAttribute('data-target'));
                const duration = 2000;
                const step = target / (duration / 16);
                let current = 0;
                
                const timer = setInterval(() => {
                    current += step;
                    if (current >= target) {
                        current = target;
                        clearInterval(timer);
                    }
                    
                    if (counter.textContent.includes('$')) {
                        counter.textContent = '$' + Math.floor(current).toLocaleString();
                    } else if (counter.textContent.includes('%')) {
                        counter.textContent = Math.floor(current) + '%';
                    } else {
                        counter.textContent = Math.floor(current).toLocaleString();
                    }
                }, 16);
            });
        }

        function createNeuralNetwork(containerId) {
            const container = document.getElementById(containerId);
            if (!container) return;
            
            container.innerHTML = '';
            
            // Create network layers
            const layers = [4, 6, 8, 6, 3];
            layers.forEach((nodeCount, layerIndex) => {
                const layer = document.createElement('div');
                layer.className = 'network-layer';
                layer.style.left = `${layerIndex * 60}px`;
                
                for (let i = 0; i < nodeCount; i++) {
                    const node = document.createElement('div');
                    node.className = 'network-node';
                    node.style.animationDelay = `${Math.random() * 2}s`;
                    layer.appendChild(node);
                }
                
                container.appendChild(layer);
                
                // Add connections to next layer
                if (layerIndex < layers.length - 1) {
                    for (let i = 0; i < nodeCount; i++) {
                        for (let j = 0; j < layers[layerIndex + 1]; j++) {
                            const connection = document.createElement('div');
                            connection.className = 'network-connection';
                            connection.style.left = `${layerIndex * 60 + 15}px`;
                            connection.style.top = `${20 + i * 20}px`;
                            connection.style.width = '45px';
                            connection.style.transform = `rotate(${(j - i) * 10}deg)`;
                            connection.style.animationDelay = `${Math.random() * 1.5}s`;
                            container.appendChild(connection);
                        }
                    }
                }
            });
        }

        function switchTab(tabName) {
            // Update tab buttons
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // Update content
            document.querySelectorAll('.demo-content').forEach(content => {
                content.classList.remove('active');
            });
            document.getElementById(tabName).classList.add('active');
            
            currentTab = tabName;
        }

        function setupEventListeners() {
            // Document upload
            const fileInput = document.getElementById('documentFile');
            fileInput.addEventListener('change', handleDocumentUpload);
            
            // Drag and drop
            const uploadZone = document.getElementById('documentUpload');
            uploadZone.addEventListener('dragover', handleDragOver);
            uploadZone.addEventListener('dragleave', handleDragLeave);
            uploadZone.addEventListener('drop', handleDrop);
            
            // Keyboard shortcuts
            document.addEventListener('keydown', handleKeyboardShortcuts);
        }

        function handleDocumentUpload(event) {
            const file = event.target.files[0];
            if (file) {
                processDocument(file);
            }
        }

        function handleDragOver(event) {
            event.preventDefault();
            event.currentTarget.classList.add('dragover');
        }

        function handleDragLeave(event) {
            event.currentTarget.classList.remove('dragover');
        }

        function handleDrop(event) {
            event.preventDefault();
            event.currentTarget.classList.remove('dragover');
            
            const files = event.dataTransfer.files;
            if (files.length > 0) {
                processDocument(files[0]);
            }
        }

        function loadDemoDocument() {
            // Simulate loading a demo document
            const demoFile = new File(['demo'], 'demo-bill-of-lading.pdf', { type: 'application/pdf' });
            processDocument(demoFile, true);
        }

        function processDocument(file, isDemo = false) {
            const processing = document.getElementById('docProcessing');
            const results = document.getElementById('docResults');
            const uploadZone = document.getElementById('documentUpload');
            
            // Show processing animation
            uploadZone.classList.add('processing');
            processing.style.display = 'block';
            results.style.display = 'none';
            
            // Animate processing steps
            const steps = [
                'Initializing OCR engine...',
                'Loading neural networks...',
                'Preprocessing image...',
                'Extracting text regions...',
                'Running character recognition...',
                'Analyzing document structure...',
                'Validating extracted data...',
                'Calculating confidence scores...',
                'Finalizing results...'
            ];
            
            let currentStep = 0;
            const stepInterval = setInterval(() => {
                if (currentStep < steps.length) {
                    document.getElementById('processingStatus').textContent = steps[currentStep];
                    document.getElementById('processingProgress').style.width = `${((currentStep + 1) / steps.length) * 100}%`;
                    currentStep++;
                } else {
                    clearInterval(stepInterval);
                }
            }, 300);
            
            // Complete processing after realistic delay
            setTimeout(() => {
                completeDocumentProcessing(file.name, isDemo);
                uploadZone.classList.remove('processing');
            }, 3000);
        }

        function completeDocumentProcessing(filename, isDemo) {
            const processing = document.getElementById('docProcessing');
            const results = document.getElementById('docResults');
            
            let data;
            if (isDemo) {
                data = demoDatabase.documents.demo;
            } else {
                // Generate realistic results for uploaded files
                data = {
                    confidence: 90 + Math.random() * 8,
                    fields: 20 + Math.floor(Math.random() * 15),
                    timeSaved: 35 + Math.floor(Math.random() * 20),
                    data: generateSampleDocumentData()
                };
            }
            
            // Update results
            document.getElementById('docConfidenceScore').textContent = data.confidence.toFixed(1) + '%';
            document.getElementById('docConfidenceFill').style.width = data.confidence + '%';
            document.getElementById('fieldsExtracted').textContent = data.fields;
            document.getElementById('processingTime').textContent = '2.3s';
            document.getElementById('timeSaved').textContent = data.timeSaved;
            
            // Display extracted data
            const extractedDataContainer = document.getElementById('extractedData');
            extractedDataContainer.innerHTML = '<h5>📋 Extracted Fields:</h5>';
            
            Object.entries(data.data).forEach(([key, value]) => {
                const field = document.createElement('div');
                field.className = 'data-field';
                field.innerHTML = `
                    <span class="field-label">${key}:</span>
                    <span class="field-value">${value}</span>
                `;
                extractedDataContainer.appendChild(field);
            });
            
            processing.style.display = 'none';
            results.style.display = 'block';
        }

        function generateSampleDocumentData() {
            const containers = ['MSKU', 'MSCU', 'TCLU', 'GESU', 'CMAU'];
            const vessels = ['MSC GULSUN', 'EVER GIVEN', 'CMA CGM MARCO POLO', 'MAERSK ESSEX'];
            const ports = [
                ['Shanghai, China (CNSHG)', 'Los Angeles, USA (USLAX)'],
                ['Rotterdam, Netherlands (NLRTM)', 'New York, USA (USNYC)'],
                ['Singapore (SGSIN)', 'Dubai, UAE (AEDXB)']
            ];
            
            const route = ports[Math.floor(Math.random() * ports.length)];
            
            return {
                'Container Number': containers[Math.floor(Math.random() * containers.length)] + (Math.floor(Math.random() * 9000000) + 1000000),
                'Vessel Name': vessels[Math.floor(Math.random() * vessels.length)],
                'Voyage': Math.floor(Math.random() * 900) + 100 + 'E',
                'Port of Loading': route[0],
                'Port of Discharge': route[1],
                'ETD': new Date(Date.now() + Math.random() * 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                'ETA': new Date(Date.now() + Math.random() * 60 * 24 * 60 * 60 * 1000).toISOString().split('T')[0],
                'Commodity': 'ELECTRONIC COMPONENTS',
                'Weight': (Math.floor(Math.random() * 20000) + 10000).toLocaleString() + ' KGS',
                'Measurement': (Math.floor(Math.random() * 30) + 15) + '.5 CBM'
            };
        }

        function predictDDRisk() {
            const route = document.getElementById('routeSelect').value;
            const container = document.getElementById('containerNumber').value;
            const carrier = document.getElementById('carrierSelect').value;
            
            const processing = document.getElementById('ddProcessing');
            const results = document.getElementById('ddResults');
            
            processing.style.display = 'block';
            results.style.display = 'none';
            
            setTimeout(() => {
                completeDDPrediction(route);
            }, 2800);
        }

        function completeDDPrediction(route) {
            const data = demoDatabase.ddPrediction[route];
            const processing = document.getElementById('ddProcessing');
            const results = document.getElementById('ddResults');
            
            // Update metrics
            document.getElementById('riskScore').textContent = data.riskScore;
            document.getElementById('ddProbability').textContent = data.probability + '%';
            document.getElementById('potentialSavings').textContent = '$' + data.savings.toLocaleString();
            document.getElementById('confidenceLevel').textContent = data.confidence + '%';
            
            // Update risk factors
            const riskGrid = document.getElementById('riskFactorsGrid');
            riskGrid.innerHTML = '';
            
            data.factors.forEach(factor => {
                const factorElement = document.createElement('div');
                factorElement.className = 'risk-factor';
                factorElement.innerHTML = `
                    <div class="risk-level">
                        <strong>${factor.name}</strong>
                        <span style="color: ${factor.level === 'low' ? 'var(--success)' : factor.level === 'medium' ? 'var(--warning)' : 'var(--danger)'}">
                            ${factor.level.toUpperCase()}
                        </span>
                    </div>
                    <div class="risk-bar">
                        <div class="risk-fill risk-${factor.level}" style="width: ${factor.value}%"></div>
                    </div>
                    <p>${factor.impact}</p>
                `;
                riskGrid.appendChild(factorElement);
            });
            
            // Generate AI recommendations
            const recommendations = document.getElementById('aiRecommendations');
            const routeRecommendations = {
                'shanghai-la': [
                    'Schedule pickup appointment 72 hours in advance',
                    'Monitor LAX congestion alerts via ROOTUIP dashboard',
                    'Consider Long Beach as alternative discharge port',
                    'Activate premium logistics service for time-critical cargo'
                ],
                'rotterdam-nyc': [
                    'Utilize AEO certified customs clearance',
                    'Pre-position documentation for faster processing',
                    'Monitor Atlantic weather patterns for voyage planning',
                    'Consider Baltimore as backup discharge option'
                ],
                'singapore-dubai': [
                    'Leverage Dubai Trade digital platform advantages',
                    'Schedule during optimal port operating hours',
                    'Utilize COSCO priority berthing agreements',
                    'Implement smart container tracking for visibility'
                ]
            };
            
            recommendations.innerHTML = `
                <h4>🤖 AI-Generated Recommendations</h4>
                <ul>
                    ${routeRecommendations[route].map(rec => `<li>${rec}</li>`).join('')}
                </ul>
            `;
            
            processing.style.display = 'none';
            results.style.display = 'block';
        }

        function optimizeRoute() {
            const origin = document.getElementById('originPort').value;
            const destination = document.getElementById('destPort').value;
            const containers = document.getElementById('containerCount').value;
            const priority = document.getElementById('priority').value;
            
            const processing = document.getElementById('routeProcessing');
            const results = document.getElementById('routeResults');
            
            processing.style.display = 'block';
            results.style.display = 'none';
            
            setTimeout(() => {
                completeRouteOptimization(origin + '-' + destination.substring(2).toLowerCase());
            }, 3500);
        }

        function completeRouteOptimization(routeKey) {
            // Map route keys to our demo database
            const routeMapping = {
                'CNSHG-lax': 'shanghai-la',
                'NLRTM-nyc': 'rotterdam-nyc',
                'SGSIN-dxb': 'singapore-dubai'
            };
            
            const mappedRoute = routeMapping[routeKey] || 'shanghai-la';
            const data = demoDatabase.routes[mappedRoute];
            const processing = document.getElementById('routeProcessing');
            const results = document.getElementById('routeResults');
            
            // Update metrics
            document.getElementById('costSavings').textContent = data.savings + '%';
            document.getElementById('transitTime').textContent = data.transitTime;
            document.getElementById('carbonReduction').textContent = data.carbonReduction + '%';
            document.getElementById('reliabilityScore').textContent = data.reliability + '%';
            
            // Create route visualization
            createRouteVisualization(mappedRoute);
            
            // Update route details
            const routeDetails = document.getElementById('routeDetails');
            routeDetails.innerHTML = `
                <h5>🚢 Optimized Route Details</h5>
                <div class="data-field">
                    <span class="field-label">Recommended Carrier:</span>
                    <span class="field-value">${data.carrier}</span>
                </div>
                <div class="data-field">
                    <span class="field-label">Service:</span>
                    <span class="field-value">${data.service}</span>
                </div>
                <div class="data-field">
                    <span class="field-label">Original Cost:</span>
                    <span class="field-value">$${data.cost.toLocaleString()}</span>
                </div>
                <div class="data-field">
                    <span class="field-label">Optimized Cost:</span>
                    <span class="field-value">$${data.optimizedCost.toLocaleString()}</span>
                </div>
                <div class="data-field">
                    <span class="field-label">Total Savings:</span>
                    <span class="field-value" style="color: var(--success); font-weight: bold;">$${(data.cost - data.optimizedCost).toLocaleString()}</span>
                </div>
            `;
            
            processing.style.display = 'none';
            results.style.display = 'block';
        }

        function createRouteVisualization(route) {
            const routeMap = document.getElementById('routeMap');
            routeMap.innerHTML = '';
            
            const routes = {
                'shanghai-la': {
                    origin: { x: '15%', y: '45%', name: 'Shanghai' },
                    destination: { x: '75%', y: '35%', name: 'Los Angeles' },
                    line: { left: '15%', top: '40%', width: '60%', angle: -5 }
                },
                'rotterdam-nyc': {
                    origin: { x: '40%', y: '25%', name: 'Rotterdam' },
                    destination: { x: '70%', y: '40%', name: 'New York' },
                    line: { left: '40%', top: '32%', width: '30%', angle: 15 }
                },
                'singapore-dubai': {
                    origin: { x: '75%', y: '65%', name: 'Singapore' },
                    destination: { x: '50%', y: '45%', name: 'Dubai' },
                    line: { left: '50%', top: '55%', width: '25%', angle: -35 }
                }
            };
            
            const routeData = routes[route];
            
            // Origin point
            const originPoint = document.createElement('div');
            originPoint.className = 'route-point';
            originPoint.style.left = routeData.origin.x;
            originPoint.style.top = routeData.origin.y;
            originPoint.title = routeData.origin.name;
            routeMap.appendChild(originPoint);
            
            // Destination point
            const destPoint = document.createElement('div');
            destPoint.className = 'route-point';
            destPoint.style.left = routeData.destination.x;
            destPoint.style.top = routeData.destination.y;
            destPoint.title = routeData.destination.name;
            routeMap.appendChild(destPoint);
            
            // Route line
            const routeLine = document.createElement('div');
            routeLine.className = 'route-line';
            routeLine.style.left = routeData.line.left;
            routeLine.style.top = routeData.line.top;
            routeLine.style.width = routeData.line.width;
            routeLine.style.transform = `rotate(${routeData.line.angle}deg)`;
            routeMap.appendChild(routeLine);
        }

        function initializePerformanceChart() {
            const ctx = document.getElementById('performanceChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'],
                    datasets: [{
                        label: 'Cost Savings (%)',
                        data: [15, 18, 22, 25, 28, 31],
                        borderColor: '#6366F1',
                        backgroundColor: 'rgba(99, 102, 241, 0.1)',
                        tension: 0.4
                    }, {
                        label: 'Processing Speed (docs/min)',
                        data: [85, 92, 98, 105, 112, 118],
                        borderColor: '#818CF8',
                        backgroundColor: 'rgba(129, 140, 248, 0.1)',
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            position: 'top',
                            labels: {
                                color: '#9CA3AF'
                            }
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#9CA3AF'
                            },
                            grid: {
                                color: 'rgba(99, 102, 241, 0.1)'
                            }
                        },
                        x: {
                            ticks: {
                                color: '#9CA3AF'
                            },
                            grid: {
                                color: 'rgba(99, 102, 241, 0.1)'
                            }
                        }
                    }
                }
            });
        }

        function handleKeyboardShortcuts(event) {
            if (event.target.tagName.toLowerCase() === 'input') return;
            
            switch(event.key.toLowerCase()) {
                case 'h':
                    toggleDemoShortcuts();
                    break;
                case 'd':
                    loadDemoData();
                    break;
                case 'r':
                    resetAllDemos();
                    break;
                case 'f':
                    toggleFullscreen();
                    break;
            }
        }

        function toggleDemoShortcuts() {
            const shortcuts = document.getElementById('demoShortcuts');
            shortcuts.classList.toggle('show');
            setTimeout(() => shortcuts.classList.remove('show'), 5000);
        }

        function loadDemoData() {
            switch(currentTab) {
                case 'document-processing':
                    loadDemoDocument();
                    break;
                case 'dd-prediction':
                    predictDDRisk();
                    break;
                case 'route-optimization':
                    optimizeRoute();
                    break;
            }
        }

        function resetAllDemos() {
            // Clear all results
            document.querySelectorAll('.results-panel').forEach(panel => {
                panel.style.display = 'none';
            });
            
            document.querySelectorAll('.processing-indicator').forEach(indicator => {
                indicator.style.display = 'none';
            });
            
            // Reset form values
            document.getElementById('containerNumber').value = 'MSKU7654321';
            document.getElementById('containerCount').value = '50';
            
            console.log('🔄 All demos reset');
        }

        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        // Show shortcuts hint on load
        setTimeout(() => {
            toggleDemoShortcuts();
        }, 5000);
    </script>
</body>
</html>