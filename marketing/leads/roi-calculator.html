<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Freight Intelligence ROI Calculator | UIP</title>
    <meta name="description" content="Calculate your potential ROI from freight intelligence automation. Get personalized savings estimates and optimization insights.">
    <link rel="icon" type="image/svg+xml" href="/brand/logo-icon.svg">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        .calculator-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 15px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .header-subtitle {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 10px;
        }

        .header-description {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.8);
            max-width: 600px;
            margin: 0 auto;
        }

        .calculator-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
        }

        .progress-bar {
            background: #e2e8f0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            background: linear-gradient(90deg, #667eea, #764ba2);
            height: 100%;
            width: 33%;
            transition: width 0.3s ease;
            border-radius: 4px;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
        }

        .step-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .step-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-bottom: 15px;
        }

        .step-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .step-description {
            color: #718096;
            font-size: 1rem;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 8px;
            font-size: 1rem;
        }

        .form-input {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-select {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .form-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-help {
            font-size: 0.9rem;
            color: #a0aec0;
            margin-top: 5px;
        }

        .range-group {
            position: relative;
        }

        .range-input {
            width: 100%;
            -webkit-appearance: none;
            height: 6px;
            border-radius: 3px;
            background: #e2e8f0;
            outline: none;
        }

        .range-input::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
        }

        .range-input::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #667eea;
            cursor: pointer;
            border: none;
        }

        .range-value {
            text-align: center;
            font-weight: 600;
            color: #667eea;
            margin-top: 10px;
            font-size: 1.1rem;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #f7fafc;
            color: #4a5568;
            border: 2px solid #e2e8f0;
        }

        .btn-secondary:hover {
            background: #edf2f7;
            border-color: #cbd5e0;
        }

        .results-preview {
            background: linear-gradient(135deg, #48bb78, #38a169);
            color: white;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
        }

        .results-preview h3 {
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .preview-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .preview-metric {
            text-align: center;
        }

        .preview-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .preview-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .lead-form {
            background: #f7fafc;
            padding: 30px;
            border-radius: 15px;
            margin-top: 30px;
        }

        .lead-form h3 {
            color: #2d3748;
            margin-bottom: 20px;
            text-align: center;
        }

        .form-disclaimer {
            background: #fff5f5;
            border: 1px solid #fed7d7;
            border-radius: 8px;
            padding: 15px;
            margin-top: 20px;
            font-size: 0.9rem;
            color: #c53030;
        }

        .security-badges {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            font-size: 0.8rem;
            color: #a0aec0;
        }

        .security-badge {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .results-dashboard {
            display: none;
        }

        .results-dashboard.active {
            display: block;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 15px;
        }

        .company-name {
            color: #667eea;
            font-weight: 600;
        }

        .roi-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .roi-card {
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .roi-card:hover {
            border-color: #667eea;
            transform: translateY(-3px);
        }

        .roi-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }

        .roi-value {
            font-size: 2.2rem;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 10px;
        }

        .roi-label {
            color: #718096;
            font-weight: 500;
        }

        .detailed-breakdown {
            background: white;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
        }

        .breakdown-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: #2d3748;
            margin-bottom: 25px;
            text-align: center;
        }

        .breakdown-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .breakdown-item:last-child {
            border-bottom: none;
        }

        .breakdown-label {
            font-weight: 500;
            color: #2d3748;
        }

        .breakdown-value {
            font-weight: 600;
            color: #48bb78;
        }

        .cta-section {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 40px;
            border-radius: 15px;
            text-align: center;
        }

        .cta-section h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
        }

        .cta-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 25px;
            flex-wrap: wrap;
        }

        .cta-btn {
            background: white;
            color: #667eea;
            padding: 15px 30px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 255, 255, 0.3);
        }

        @media (max-width: 768px) {
            .calculator-container {
                padding: 20px 15px;
            }

            .calculator-card {
                padding: 25px;
            }

            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }

            .button-group {
                flex-direction: column;
                gap: 15px;
            }

            .preview-metrics {
                grid-template-columns: repeat(2, 1fr);
            }

            .roi-summary {
                grid-template-columns: 1fr;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<!-- Google Analytics 4 -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-ROOTUIP2025"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-ROOTUIP2025');
</script>
</head>
<body>
    <div class="calculator-container">
        <!-- Header -->
        <div class="header">
            <h1>üìä ROI Calculator</h1>
            <p class="header-subtitle">Calculate Your Freight Intelligence ROI</p>
            <p class="header-description">
                Get a personalized analysis of how much you could save with automated freight intelligence. 
                Takes less than 2 minutes.
            </p>
        </div>

        <!-- Calculator Card -->
        <div class="calculator-card">
            <!-- Progress Bar -->
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>

            <!-- Step 1: Company Information -->
            <div class="step active" id="step1">
                <div class="step-header">
                    <div class="step-number">1</div>
                    <h2 class="step-title">Company Information</h2>
                    <p class="step-description">Tell us about your business to personalize your ROI analysis</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Company Name</label>
                    <input type="text" class="form-input" id="companyName" placeholder="Acme Logistics Inc." required>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Industry</label>
                        <select class="form-select" id="industry" required>
                            <option value="">Select Industry</option>
                            <option value="manufacturing">Manufacturing</option>
                            <option value="retail">Retail & E-commerce</option>
                            <option value="automotive">Automotive</option>
                            <option value="chemicals">Chemicals & Materials</option>
                            <option value="food">Food & Beverage</option>
                            <option value="electronics">Electronics & Technology</option>
                            <option value="other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Company Size</label>
                        <select class="form-select" id="companySize" required>
                            <option value="">Select Size</option>
                            <option value="startup">Startup (1-50 employees)</option>
                            <option value="small">Small (51-200 employees)</option>
                            <option value="medium">Medium (201-1000 employees)</option>
                            <option value="large">Large (1000+ employees)</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Annual Freight Spend</label>
                    <div class="range-group">
                        <input type="range" class="range-input" id="freightSpend" min="100000" max="50000000" value="5000000" step="100000" oninput="updateRangeValue('freightSpend', 'freightSpendValue', formatCurrency)">
                        <div class="range-value" id="freightSpendValue">$5,000,000</div>
                    </div>
                    <div class="form-help">Total annual spending on freight and logistics</div>
                </div>

                <div class="button-group">
                    <div></div>
                    <button class="btn btn-primary" onclick="nextStep()">
                        Next Step ‚Üí
                    </button>
                </div>
            </div>

            <!-- Step 2: Current Operations -->
            <div class="step" id="step2">
                <div class="step-header">
                    <div class="step-number">2</div>
                    <h2 class="step-title">Current Operations</h2>
                    <p class="step-description">Help us understand your current logistics processes</p>
                </div>

                <div class="form-group">
                    <label class="form-label">Monthly Shipments</label>
                    <div class="range-group">
                        <input type="range" class="range-input" id="monthlyShipments" min="10" max="10000" value="500" step="10" oninput="updateRangeValue('monthlyShipments', 'shipmentsValue', formatNumber)">
                        <div class="range-value" id="shipmentsValue">500</div>
                    </div>
                    <div class="form-help">Average number of shipments per month</div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label class="form-label">Manual Processing Time</label>
                        <div class="range-group">
                            <input type="range" class="range-input" id="manualTime" min="1" max="8" value="3" step="0.5" oninput="updateRangeValue('manualTime', 'manualTimeValue', (v) => v + ' hours/day')">
                            <div class="range-value" id="manualTimeValue">3 hours/day</div>
                        </div>
                        <div class="form-help">Time spent on manual tracking/coordination</div>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Current Visibility</label>
                        <select class="form-select" id="currentVisibility" required>
                            <option value="">Select Level</option>
                            <option value="minimal">Minimal - Basic tracking only</option>
                            <option value="partial">Partial - Some automation</option>
                            <option value="good">Good - Most processes automated</option>
                            <option value="excellent">Excellent - Fully integrated</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Delivery Issues per Month</label>
                    <div class="range-group">
                        <input type="range" class="range-input" id="deliveryIssues" min="0" max="100" value="15" step="1" oninput="updateRangeValue('deliveryIssues', 'issuesValue', formatNumber)">
                        <div class="range-value" id="issuesValue">15</div>
                    </div>
                    <div class="form-help">Delays, lost shipments, customer complaints, etc.</div>
                </div>

                <div class="button-group">
                    <button class="btn btn-secondary" onclick="prevStep()">
                        ‚Üê Previous
                    </button>
                    <button class="btn btn-primary" onclick="nextStep()">
                        Calculate ROI ‚Üí
                    </button>
                </div>
            </div>

            <!-- Step 3: Results Preview -->
            <div class="step" id="step3">
                <div class="step-header">
                    <div class="step-number">3</div>
                    <h2 class="step-title">Your ROI Analysis</h2>
                    <p class="step-description">Here's a preview of your potential savings and ROI</p>
                </div>

                <div class="results-preview">
                    <h3>üöÄ Potential Annual Savings</h3>
                    <div class="preview-metrics">
                        <div class="preview-metric">
                            <div class="preview-value" id="previewSavings">$847,000</div>
                            <div class="preview-label">Total Savings</div>
                        </div>
                        <div class="preview-metric">
                            <div class="preview-value" id="previewROI">340%</div>
                            <div class="preview-label">ROI</div>
                        </div>
                        <div class="preview-metric">
                            <div class="preview-value" id="previewPayback">3.5</div>
                            <div class="preview-label">Payback (months)</div>
                        </div>
                    </div>
                    <p style="opacity: 0.9; margin-top: 15px;">
                        Enter your details below to see the complete breakdown and get your personalized report.
                    </p>
                </div>

                <!-- Lead Capture Form -->
                <div class="lead-form">
                    <h3>üîì Unlock Your Complete ROI Report</h3>
                    <form onsubmit="submitLead(event)">
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">First Name *</label>
                                <input type="text" class="form-input" id="firstName" required>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Last Name *</label>
                                <input type="text" class="form-input" id="lastName" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Business Email *</label>
                            <input type="email" class="form-input" id="email" required>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Phone Number</label>
                                <input type="tel" class="form-input" id="phone">
                            </div>
                            <div class="form-group">
                                <label class="form-label">Job Title</label>
                                <input type="text" class="form-input" id="jobTitle" placeholder="e.g., Supply Chain Director">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Current Challenges (Optional)</label>
                            <select class="form-select" id="challenges">
                                <option value="">Select Primary Challenge</option>
                                <option value="visibility">Lack of shipment visibility</option>
                                <option value="costs">High freight costs</option>
                                <option value="delays">Frequent delays</option>
                                <option value="manual">Too much manual work</option>
                                <option value="integration">System integration issues</option>
                                <option value="compliance">Compliance requirements</option>
                            </select>
                        </div>
                        <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 20px;">
                            üìä Get My Complete ROI Report
                        </button>
                    </form>

                    <div class="form-disclaimer">
                        <strong>Privacy Notice:</strong> Your information is secure and will only be used to send your ROI report and relevant freight intelligence insights. You can unsubscribe at any time.
                    </div>

                    <div class="security-badges">
                        <div class="security-badge">
                            <span>üîí</span> SSL Encrypted
                        </div>
                        <div class="security-badge">
                            <span>‚úÖ</span> GDPR Compliant
                        </div>
                        <div class="security-badge">
                            <span>üõ°Ô∏è</span> No Spam Policy
                        </div>
                    </div>
                </div>

                <div class="button-group" style="margin-top: 20px;">
                    <button class="btn btn-secondary" onclick="prevStep()">
                        ‚Üê Edit Information
                    </button>
                    <div></div>
                </div>
            </div>

            <!-- Results Dashboard -->
            <div class="results-dashboard" id="resultsDashboard">
                <div class="results-header">
                    <h2 class="results-title">ROI Analysis for <span class="company-name" id="resultsCompanyName"></span></h2>
                    <p>Based on your inputs, here's your personalized freight intelligence ROI breakdown</p>
                </div>

                <div class="roi-summary">
                    <div class="roi-card">
                        <div class="roi-icon">üí∞</div>
                        <div class="roi-value" id="totalSavings">$847,000</div>
                        <div class="roi-label">Annual Savings</div>
                    </div>
                    <div class="roi-card">
                        <div class="roi-icon">üìà</div>
                        <div class="roi-value" id="roiPercentage">340%</div>
                        <div class="roi-label">Return on Investment</div>
                    </div>
                    <div class="roi-card">
                        <div class="roi-icon">‚è±Ô∏è</div>
                        <div class="roi-value" id="paybackPeriod">3.5 months</div>
                        <div class="roi-label">Payback Period</div>
                    </div>
                    <div class="roi-card">
                        <div class="roi-icon">‚ö°</div>
                        <div class="roi-value" id="efficiency">75%</div>
                        <div class="roi-label">Efficiency Gain</div>
                    </div>
                </div>

                <div class="detailed-breakdown">
                    <h3 class="breakdown-title">üí° Savings Breakdown</h3>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Reduced Manual Processing Costs</span>
                        <span class="breakdown-value" id="manualSavings">$234,000</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Freight Cost Optimization</span>
                        <span class="breakdown-value" id="freightSavings">$387,000</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Reduced Delivery Issues</span>
                        <span class="breakdown-value" id="issueSavings">$126,000</span>
                    </div>
                    <div class="breakdown-item">
                        <span class="breakdown-label">Improved Customer Satisfaction</span>
                        <span class="breakdown-value" id="satisfactionSavings">$100,000</span>
                    </div>
                </div>

                <div class="cta-section">
                    <h3>üöÄ Ready to Achieve These Results?</h3>
                    <p>Our freight intelligence experts can help you implement a solution tailored to your specific needs.</p>
                    <div class="cta-buttons">
                        <a href="/marketing/leads/demo-booking.html" class="cta-btn">üìÖ Schedule Demo</a>
                        <a href="/marketing/leads/assessment-tool.html" class="cta-btn">üîç Free Assessment</a>
                        <a href="/customer-onboarding/index.html" class="cta-btn">üìû Talk to Expert</a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 3;

        // Update progress bar
        function updateProgress() {
            const progress = (currentStep / totalSteps) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        // Navigation functions
        function nextStep() {
            if (validateCurrentStep()) {
                currentStep++;
                if (currentStep === 3) {
                    calculateROI();
                }
                showStep(currentStep);
                updateProgress();
                trackEvent('ROI Calculator Step', { step: currentStep });
            }
        }

        function prevStep() {
            currentStep--;
            showStep(currentStep);
            updateProgress();
        }

        function showStep(step) {
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            document.getElementById(`step${step}`).classList.add('active');
        }

        // Form validation
        function validateCurrentStep() {
            const currentStepElement = document.getElementById(`step${currentStep}`);
            const requiredFields = currentStepElement.querySelectorAll('[required]');
            
            for (let field of requiredFields) {
                if (!field.value.trim()) {
                    field.focus();
                    showNotification('Please fill in all required fields', 'warning');
                    return false;
                }
            }
            return true;
        }

        // Range input handlers
        function updateRangeValue(inputId, displayId, formatter) {
            const value = document.getElementById(inputId).value;
            document.getElementById(displayId).textContent = formatter(value);
        }

        function formatCurrency(value) {
            return '$' + parseInt(value).toLocaleString();
        }

        function formatNumber(value) {
            return parseInt(value).toLocaleString();
        }

        // ROI Calculation
        function calculateROI() {
            const freightSpend = parseInt(document.getElementById('freightSpend').value);
            const monthlyShipments = parseInt(document.getElementById('monthlyShipments').value);
            const manualTime = parseFloat(document.getElementById('manualTime').value);
            const deliveryIssues = parseInt(document.getElementById('deliveryIssues').value);
            
            // Calculate savings (simplified model)
            const manualSavings = manualTime * 50 * 250; // $50/hour, 250 working days
            const freightSavings = freightSpend * 0.08; // 8% freight optimization
            const issueSavings = deliveryIssues * 12 * 700; // $700 per issue annually
            const satisfactionSavings = monthlyShipments * 12 * 7; // $7 per shipment customer value
            
            const totalSavings = manualSavings + freightSavings + issueSavings + satisfactionSavings;
            const implementation = 250000; // Estimated implementation cost
            const roi = ((totalSavings - implementation) / implementation) * 100;
            const payback = implementation / (totalSavings / 12);
            
            // Update preview
            document.getElementById('previewSavings').textContent = formatCurrency(totalSavings);
            document.getElementById('previewROI').textContent = Math.round(roi) + '%';
            document.getElementById('previewPayback').textContent = payback.toFixed(1);
            
            // Store for results page
            window.calculatedROI = {
                totalSavings,
                manualSavings,
                freightSavings,
                issueSavings,
                satisfactionSavings,
                roi,
                payback
            };
        }

        // Lead form submission
        function submitLead(event) {
            event.preventDefault();
            
            const leadData = {
                // Company info
                companyName: document.getElementById('companyName').value,
                industry: document.getElementById('industry').value,
                companySize: document.getElementById('companySize').value,
                freightSpend: document.getElementById('freightSpend').value,
                
                // Operations
                monthlyShipments: document.getElementById('monthlyShipments').value,
                manualTime: document.getElementById('manualTime').value,
                currentVisibility: document.getElementById('currentVisibility').value,
                deliveryIssues: document.getElementById('deliveryIssues').value,
                
                // Contact info
                firstName: document.getElementById('firstName').value,
                lastName: document.getElementById('lastName').value,
                email: document.getElementById('email').value,
                phone: document.getElementById('phone').value,
                jobTitle: document.getElementById('jobTitle').value,
                challenges: document.getElementById('challenges').value,
                
                // ROI results
                roiData: window.calculatedROI,
                
                // Tracking
                source: 'roi_calculator',
                timestamp: new Date().toISOString()
            };
            
            // Submit to marketing automation
            submitToMarketing(leadData);
            
            // Show results
            showResults(leadData);
            
            trackEvent('Lead Captured', { source: 'roi_calculator', email: leadData.email });
        }

        function showResults(leadData) {
            // Hide calculator steps
            document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
            
            // Update results
            document.getElementById('resultsCompanyName').textContent = leadData.companyName;
            document.getElementById('totalSavings').textContent = formatCurrency(leadData.roiData.totalSavings);
            document.getElementById('roiPercentage').textContent = Math.round(leadData.roiData.roi) + '%';
            document.getElementById('paybackPeriod').textContent = leadData.roiData.payback.toFixed(1) + ' months';
            document.getElementById('efficiency').textContent = '75%';
            
            // Breakdown
            document.getElementById('manualSavings').textContent = formatCurrency(leadData.roiData.manualSavings);
            document.getElementById('freightSavings').textContent = formatCurrency(leadData.roiData.freightSavings);
            document.getElementById('issueSavings').textContent = formatCurrency(leadData.roiData.issueSavings);
            document.getElementById('satisfactionSavings').textContent = formatCurrency(leadData.roiData.satisfactionSavings);
            
            // Show results dashboard
            document.getElementById('resultsDashboard').classList.add('active');
            
            // Send email with report
            sendROIReport(leadData);
        }

        function submitToMarketing(leadData) {
            // Simulate API call to marketing automation system
            console.log('Submitting lead to marketing automation:', leadData);
            
            // In production, this would call your marketing automation API
            // fetch('/api/marketing/leads', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify(leadData)
            // });
        }

        function sendROIReport(leadData) {
            // Simulate sending PDF report
            setTimeout(() => {
                showNotification('ROI report sent to ' + leadData.email, 'success');
            }, 1000);
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? '#48bb78' : 
                           type === 'warning' ? '#ed8936' : '#667eea';
                           
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${bgColor};
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 1000;
                max-width: 300px;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        function trackEvent(eventName, properties = {}) {
            console.log('Analytics Event:', eventName, properties);
            
            // Integration with marketing automation
            if (typeof marketingAutomation !== 'undefined') {
                marketingAutomation.track(eventName, properties);
            }
        }

        // Initialize
        updateProgress();
        trackEvent('ROI Calculator Started', { timestamp: new Date().toISOString() });

        // Track engagement
        let startTime = Date.now();
        window.addEventListener('beforeunload', () => {
            const timeSpent = Math.round((Date.now() - startTime) / 1000);
            trackEvent('ROI Calculator Time Spent', { seconds: timeSpent, step: currentStep });
        });
    </script>
</body>
</html>
